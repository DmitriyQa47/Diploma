## Планирование автоматизации
### Перечень автоматизируемых сценариев
#### 1. UI тесты
##### Позитивные сценарии:
- Успешное появление формы оплаты по карте после нажатия на кнопку "Купить"
- Успешное появление формы Кредит по данным карты после нажатия на кнопку "Купить в кредит"
- Успешная обработка платежа при вводе валидных данных

##### Негативные сценарии:

##### Поле "Номер карты"
- Заполнение поля несуществующим в базе данных номером из 16 цифр
- Заполнение поля номером, состоящим не из 16 цифр, а меньшим. (Примерчание. Обычно платежные карты имеют номер из 16 цифр, но также могут иметь 13, 15, 18, 19)
- Заполнение поля невалидными символами - *?: и т.д.
- Заполнение поля буквами
- Незаполненное поле
##### Поле "Месяц"
- Заполнение поля невалидным числом (>12)
- Заполнение поля буквами
- Заполнение поля невалидными символами - )*_ и т.д.
- Заполнение поля одной цифрой
- Незаполненное поле
##### Поле "Год"
- Заполнение поля истекшим годом
- Заполнение поля буквами
- Заполнение поля невалидными символами - )*_ и т.д.
- Заполнение поля годом больше текущего на >10 лет
- Заполнение поля одной цифрой
- Незаполненное поле
##### Поле "Владелец"
- Заполнение поля кириллицей
- Заполнение поля одним словом
- Заполнение поля цифрами
- Заполнение поля невалидными знаками - )*? и т.д.
- Заполнение поля одной буквой
- Заполнение поля более чем 100 символами
- Заполнение поля с использованием двойной фамилии с дефисом
- Незаполненное поле
##### Поле "CVC/CVV"
- Заполнение поля буквами
- Заполнение поля невалидными символами - *?: и т.д.
- Заполнение поля одной цифрой
- Заполнение поля четыремя цифрами
- Незаполненное поле
##### Дополнительно
- Оставить незаполненными все поля формы
##### Запросы в БД
- Запрос в БД при вводе карты Approved
- Запрос в БД при вводе карты Declined

### Перечень используемых инструментов

|   Инструмент    | Обоснование выбора |
|:---------------:| ---: |
| `IntelliJ IDEA` | платформа ориентирована на Java-кодинг |
|    `Gradle`     | Лаконичность и производительность|
|    `JUnit 5`    | Широта возможностей и стабильность |
|        `Selenide`         | удобный фреймворк                   |
|           `Git и Github`      |          система контроля версий для хранения автотестов          |
|           `Faker`      |          генератор данных         |

### Перечень и описание возможных рисков при автоматизации
- Отсутствие доступа с заявленными входными данными при запуске SUT
- Неоднозначность требований, неполнота или недостаточная подробность документации.
- Увеличение времени работы из-за недостаточной мощности ПК
- Трудности с Docker и CI.
- Несовместимость SUT с MySQL/Postgres
- Заявленный функционал не работает

### Интервальная оценка с учётом рисков
- Подготовка проекта, изучение тех.задания, установка программного обеспечения, запуск SUT - 12ч
- Написание плана тестирования - 2ч.
- Написание тестов - от 24ч до 48ч при возникновении сложностей
- Написание отчетов о тестировании - 2ч.
- Написание отчетов об автоматизации - 1ч.
- Дополнительно заложено 8ч на решение сложных вопросов, трудности с запуском SUT и т.д. Таким образом, на автоматизацию тестирования комплексного сервиса должно уйти от 41ч до 73ч.

### План сдачи работ (когда будут авто-тесты, результаты их прогона и отчёт по автоматизации)
- Подготовка автотестов: 21 рабочий день.
- Результаты автотестов: 1 рабочий день.
- Отчет по автоматизаций: 3 рабочих дня.


_______________

**Тестируемые карты**

4444 4444 4444 4441, status "APPROVED"

4444 4444 4444 4442, status "DECLINED"

**Требования для полей**

поле `мер карты` 16 цифр

поле `Месяц`: двузначное числовое значение от 01 до 12

поле `Год`: двузначное числовое значение, текущий год и выше.

поле `Владелец`: допустимые значения из латинских букв, дефисов, пробелов

поле `CVC/CCV`: три цифры


_______________

### 1. Покупка с валидными данными по карте.
1. В поле `Номер карты` ввести `4444 4444 4444 4441`.
2. В поле `Год` ввести `Текущий год + 1`.
3. В поле `Меясц` ввести `Текущий месяц + 1`.
4. В поле `Владелец` ввести `Генерация с помощью Faker`.
5. в поле `CVC/CVV` ввести `Генерация с помощью Faker`.
6. Нажать кнопку `Продолжить`.

*Ожидаемый результат:* 
Всплывает уведомление 'Успешно! Операция одобрена банком.'Статус Бд операции: 'APPROVED'

**Негативные сценарии:**

**1. Покупка с невалидным номером карты:**
1.	В поле `Номер карты` ввести `4444 4444 4444 4442`.
2.	В поле `Год` ввести `Текущий год + 1`
3.	В поле `Месяц` ввести `Текущий месяц + 1`
4.	В поле `Владелец` `Генерация с помощью Faker`
5.	В поле `CVC/CVV` `Генерация с помощью Faker`
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат:* 
уведомление 'Ошибка! Банк отказал в проведении операции"."Отказано'. В БД статус операции: 'DECLINED'

**2. Отправка формы со всеми пустыми полями:**

1.	Оставить все поля пустыми
2.	Нажать кнопку "Продолжить"

*Ожидаемый результат:* 
уведомление об ошибках под всеми полями. Форма не отправлена.

**3. Отправки формы с пустым полем "Номер карты":**
1.	Поле `Номер карты` оставить пустым.
2.	В поле `Год` ввести `Текущий год + 1`
3.	В поле `Месяц` ввести `Текущий месяц + 1`
4.	В поле "Владелец" `Генерация с помощью Faker`
5.	В поле "CVC/CVV" `Генерация с помощью Faker`
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат:* 
В поле "Номер карты" выходит сообщение "Поле обязательно для заполнения"

**4. Отправки формы с пустым полем "Год" :**
1.	В поле `Номер карты` ввести `4444 4444 4444 4441`.
2.	Поле `Год` оставить пустым.
3.	В поле `Месяц` ввести `Текущий месяц + 1`
4.	В поле "Владелец" `Генерация с помощью Faker`
5.	В поле "CVC/CVV" `Генерация с помощью Faker`
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат:* 
В поле `Год` выходит сообщение "Поле обязательно для заполнения"

**5. Отправки формы с пустым полем "Месяц":**
1.	В поле `Номер карты` ввести `4444 4444 4444 4441`.
2.	В поле `Год` ввести `Текущий год + 2`
3.	Поле `Месяц` оставить пустым
4.	В поле `Владелец` `Генерация с помощью Faker`
5.	В поле `CVC/CVV` `Генерация с помощью Faker`
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат:* 
В поле `Месяц` выходит сообщение "Поле обязательно для заполнения"

**6. Отправки формы с пустым полем "Владелец":**
1.	В поле `Номер карты` ввести `4444 4444 4444 4441`
2.	В поле `Год` ввести `Текущий год + 2`
3.	В поле `Месяц` ввести `Текущий месяц + 1`
4.	Поле `Владелец` оставить пустым
5.	В поле `CVC/CVV` `Генерация с помощью Faker`
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат:* 
В поле `Владелец` выходит сообщение "Поле обязательно для заполнения"

**7. Отправки формы с пустым полем "CVC/CVV":**
1.	В поле `Номер карты` ввести `4444 4444 4444 4441`
2.	В поле `Год` ввести `Текущий год + 2`
3.	В поле `Месяц` ввести `Текущий месяц + 3`
4.	В поле `Владелец` `Генерация с помощью Faker`
5.	Поле `CVC/CVV` оставить пустым
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат:* 
В поле `CVC/CVV` отображается сообщение "Поле обязательно для заполнения"

**8. Покупка с карты с истекшим сроком действия (прошлый год):**
1.	В поле `Номер карты` ввести `4444 4444 4444 4441`
2.	В поле `Год` ввести `Текущий год - 1`
3.	В поле `Месяц` ввести `Текущий месяц`
4.	В поле `Владелец` `Генерация с помощью Faker`
5.	В поле `CVC/CVV` `Генерация с помощью Faker`
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат:*
уведомление "Истёк срок действия карты" под полем `Год`. Форма не отправлена.

**9. Покупка с карты с истекшим сроком действия (предыдущий месяц) :**
1.	В поле `Номер карты` ввести `4444 4444 4444 4441`
2.	В поле `Год` ввести `Текущий год`
3.	В поле `Месяц` ввести `Текущий месяц`
4.	В поле `Владелец` `Генерация с помощью Faker`
5.	В поле `CVC/CVV` `Генерация с помощью Faker`
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат:*
уведомление "Неверно указан срок действия карты" под полем `Месяц`. Форма не отправлена.

**10. Покупка при помощи карты с не верным форматом поля Номер карты:**
1.		В поле `Номер карты` ввести `4444 4444`
2.	В поле `Год` ввести `Текущий год + 1`
3.	В поле `Месяц` ввести `Текущий месяц + 2`
4.	В поле `Владелец` `Генерация с помощью Faker`
5.	В поле `CVC/CVV` `Генерация с помощью Faker`
6.	Нажать кнопку "Продолжить" 

*Ожидаемый результат:*
уведомление об ошибке под полем "Номер карты". Форма не отправлена.*

**11. Покупка при помощи карты с не верным форматом поля Год:**
1.	В поле `Номер карты` ввести `4444 4444 4444 4441`
2.	В поле `Год` ввести значение в интервале 100-999.
3.	В поле `Месяц` ввести `Текущий месяц + 2`
4.	В поле `Владелец` `Генерация с помощью Faker`
5.	В поле `CVC/CVV` `Генерация с помощью Faker`
6.	Нажать кнопку "Продолжить" 

*Ожидаемый результат:*
уведомление об ошибке под полем "Год". Форма не отправлена.*

**12. Покупка при помощи карты с не верным форматом поля Месяц:**
1.	В поле `Номер карты` ввести `4444 4444 4444 4441`
2.  В поле `Год` ввести `Текущий год + 1`
3.	В поле `Месяц` ввести значение 0-13-99
4.	В поле `Владелец` `Генерация с помощью Faker`
5.	В поле `CVC/CVV` `Генерация с помощью Faker`
6.	Нажать кнопку "Продолжить" 

*Ожидаемый результат:*
уведомление об ошибке под полем "Месяц". Форма не отправлена.*

**13. Покупка при помощи карты с не верным форматом поля Владелец:**
1.	В поле `Номер карты` ввести `4444 4444 4444 4441`
2.	В поле `Год` ввести `Текущий год + 1`
3.	В поле `Месяц` ввести `Текущий месяц + 2` 
4.	В поле "Владелец" ввести цифровое значение в интервале 1-999
5.	В поле `CVC/CVV` `Генерация с помощью Faker`
6.	Нажать кнопку "Продолжить" 

*Ожидаемый результат:*
уведомление об ошибке под полем "Владелец". Форма не отправлена.*

**14.  Покупка при помощи карты с не верным форматом поля CVC/CVV:**
1.	В поле `Номер карты` ввести `4444 4444 4444 4441`
2.	В поле `Год` ввести `Текущий год + 1`
3.	В поле `Месяц` ввести `Текущий месяц + 2` 
4.	В поле `Владелец` `Генерация с помощью Faker`
5.	В поле `CVC/CVV` ввести значение в интервале 0-99
6.	Нажать кнопку "Продолжить" 

*Ожидаемый результат:*
уведомление об ошибке под полем "CVC/CVV". Форма не отправлена.*

**15. Покупка с несуществующим номером карты:**
1.	В поле `Номер карты` ввести `0000 0000 0000 0000`
2.	В поле `Год` ввести `Текущий год + 1`
3.	В поле `Месяц` ввести `Текущий месяц + 2` 
4.	В поле `Владелец` `Генерация с помощью Faker`
5.	В поле `CVC/CVV` `Генерация с помощью Faker`
6.	Нажать кнопку "Продолжить" 

*Ожидаемый результат:*
уведомление "Ошибка! Банк отказал в проведении операции"."Отказано".*

**16. Покупка с нулями в поле "Месяц"**

1.	В поле `Номер карты` ввести `4444 4444 4441`
2.	В поле `Год` ввести `Текущий год + 1`
3.	В поле `Месяц` ввести `00`
4.	В поле `Владелец` `Генерация с помощью Faker`
5.	В поле `CVC/CVV` `Генерация с помощью Faker`
6.	Нажать кнопку "Продолжить" 

*Ожидаемый результат:* уведомление "Неверно указан срок действия карты" под полем "Месяц". Форма не отправлена.*

**17. Покупка с нулями в поле "CVV"**

1.	В поле `Номер карты` ввести `4444 4444 4444 4441`
2.	В поле `Год` ввести `Текущий год + 1`
3.	В поле "Месяц" ввести "03"
4.	В поле `Владелец` `Генерация с помощью Faker`
5.	В поле "CVC/CVV" ввести `00`
6.	Нажать кнопку "Продолжить"

*Ожидаемый результат: уведомление об ошибке под полем "CVC/CVV". Форма не отправлена.*
